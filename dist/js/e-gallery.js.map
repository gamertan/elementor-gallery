{"version":3,"sources":["../../webpack/bootstrap","../.././node_modules/@babel/runtime/helpers/assertThisInitialized.js","../.././node_modules/@babel/runtime/helpers/classCallCheck.js","../.././node_modules/@babel/runtime/helpers/createClass.js","../.././node_modules/@babel/runtime/helpers/getPrototypeOf.js","../.././node_modules/@babel/runtime/helpers/inherits.js","../.././node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../.././node_modules/@babel/runtime/helpers/setPrototypeOf.js","../.././node_modules/@babel/runtime/helpers/typeof.js","../.././src/js/e-gallery.js","../.././src/js/types/base.js","../.././src/js/types/grid.js","../.././src/js/types/justified.js","../.././src/js/types/masonry.js","../.././src/js/utils/element-in-view.js","../.././src/js/utils/index.js","webpack://EGallery/./src/scss/e-gallery.scss?7472"],"names":["_assertThisInitialized","self","ReferenceError","module","exports","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","require","_inherits","subClass","superClass","create","constructor","value","_typeof","assertThisInitialized","_possibleConstructorReturn","call","_setPrototypeOf","p","obj","Symbol","iterator","EGallery","userSettings","initGalleriesTypes","createGallery","container","items","type","tags","overlay","overlayTemplate","columns","horizontalGap","verticalGap","rtl","animationDuration","lazyLoad","classesPrefix","classes","item","image","overlayTitle","overlayDescription","link","firstRowItem","animated","hidden","imageLoaded","selectors","breakpoints","galleriesTypes","grid","GridGallery","justified","JustifiedGallery","masonry","MasonryGallery","settings","jQuery","extend","getDefaultSettings","GalleryHandlerType","galleryHandler","setSettings","destroy","BaseGalleryType","$container","timeouts","initElements","prepareGallery","oldRunGallery","runGallery","bind","debounce","allImagesPromise","then","handleScroll","lazyLoadImages","bindEvents","className","elements","$window","window","directionClass","containerClasses","getItemClass","addClass","on","object","keyStack","split","currentKey","splice","getNestedObjectData","join","args","nestedObjectData","keys","map","Number","sort","a","b","currentBreakpoint","some","breakpoint","innerWidth","settingKey","getCurrentBreakpoint","returnIndexes","activeTags","activeIndexes","$items","filteredItems","filter","index","itemTags","dataset","eGalleryTags","tag","includes","push","getActiveItems","imagesData","template","replace","match","placeholder","getTemplateArgs","trim","overlayData","$overlay","overlayContent","compileTemplate","html","itemData","$item","$image","css","thumbnail","createOverlay","$contentWrapper","url","href","append","func","wait","timeout","clearTimeout","setTimeout","forEach","createItem","add","allPromises","Image","promise","Promise","resolve","onload","calculateImageSize","src","all","lazyLoadComplete","loadedItems","each","loaded","hasClass","elementInView","find","width","height","ratio","isLazyLoad","data","buildGallery","makeGalleryFromContent","createImagesData","loadImages","refresh","containerStyle","style","setProperty","getCurrentDeviceSetting","removeClass","run","off","unbindEvents","empty","Grid","aspectRatio","Math","floor","rows","ceil","itemWidth","aspectRatioPercents","itemHeight","totalHeight","calculatedAspectRatio","animatedClass","setItemsPosition","setContainerSize","Justified","idealRowHeight","lastRow","rowsHeights","rowsCount","containerWidth","makeJustifiedRow","startIndex","oldRowWidth","imageData","getImageData","itemComputedWidth","round","newRowWidth","oldDiff","newDiff","fitImagesInContainer","isLastItem","computedWidth","lastRowMode","totalRowWidth","inflateGalleryHeight","endIndex","rowWidth","gapCount","aggregatedWidth","percentWidth","get","firstRowItemClass","classList","imagePxWidth","remove","totalRowsHeight","reduce","total","finalContainerHeight","containerAspectRatio","percentRowsHeights","rowHeight","currentRow","accumulatedTop","itemRowIndex","getPropertyValue","isFirstItem","Masonry","heights","aggregatedHeights","row","indexAtRow","highestColumn","max","highestColumnIndex","indexOf","rowsRemainder","highestColumnsGapsCount","percentHeight","element","elementPart","elementTop","getBoundingClientRect","top","elementHeight","offsetHeight","elementBottom","elementPosition","innerHeight"],"mappings":"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","file":"e-gallery.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/e-gallery.js\");\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import GridGallery from './types/grid';\r\nimport JustifiedGallery from './types/justified';\r\nimport MasonryGallery from './types/masonry';\r\n\r\nimport eGalleryScss from '../scss/e-gallery.scss';\r\n\r\nexport default class EGallery {\r\n\tconstructor( userSettings ) {\r\n\t\tthis.userSettings = userSettings;\r\n\r\n\t\tthis.initGalleriesTypes();\r\n\r\n\t\tthis.createGallery();\r\n\t}\r\n\r\n\tgetDefaultSettings() {\r\n\t\treturn {\r\n\t\t\tcontainer: null,\r\n\t\t\titems: null,\r\n\t\t\ttype: 'grid',\r\n\t\t\ttags: [],\r\n\t\t\toverlay: false,\r\n\t\t\toverlayTemplate: '<div class=\"{{ classesPrefix }}{{ classes.overlayTitle }}\">{{ title }}</div><div class=\"{{ classesPrefix }}{{ classes.overlayDescription }}\">{{ description }}</div>',\r\n\t\t\tcolumns: 5,\r\n\t\t\thorizontalGap: 10,\r\n\t\t\tverticalGap: 10,\r\n\t\t\trtl: false,\r\n\t\t\tanimationDuration: 350,\r\n\t\t\tlazyLoad: false,\r\n\t\t\tclassesPrefix: 'e-gallery-',\r\n\t\t\tclasses: {\r\n\t\t\t\tcontainer: 'container',\r\n\t\t\t\titem: 'item',\r\n\t\t\t\timage: 'image',\r\n\t\t\t\toverlay: 'overlay',\r\n\t\t\t\toverlayTitle: 'overlay__title',\r\n\t\t\t\toverlayDescription: 'overlay__description',\r\n\t\t\t\tlink: 'link',\r\n\t\t\t\tfirstRowItem: 'first-row-item',\r\n\t\t\t\tanimated: '-animated',\r\n\t\t\t\thidden: 'item--hidden',\r\n\t\t\t\tlazyLoad: '-lazyload',\r\n\t\t\t\timageLoaded: 'image-loaded',\r\n\t\t\t},\r\n\t\t\tselectors: {\r\n\t\t\t\titems: '.e-gallery-item',\r\n\t\t\t\timage: '.e-gallery-image',\r\n\t\t\t},\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t1024: {\r\n\t\t\t\t\thorizontalGap: 5,\r\n\t\t\t\t\tverticalGap: 5,\r\n\t\t\t\t\tcolumns: 4,\r\n\t\t\t\t},\r\n\t\t\t\t768: {\r\n\t\t\t\t\thorizontalGap: 1,\r\n\t\t\t\t\tverticalGap: 1,\r\n\t\t\t\t\tcolumns: 2,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tinitGalleriesTypes() {\r\n\t\tthis.galleriesTypes = {\r\n\t\t\tgrid: GridGallery,\r\n\t\t\tjustified: JustifiedGallery,\r\n\t\t\tmasonry: MasonryGallery,\r\n\t\t};\r\n\t}\r\n\r\n\tcreateGallery() {\r\n\t\tconst settings = jQuery.extend( true, this.getDefaultSettings(), this.userSettings );\r\n\r\n\t\tconst GalleryHandlerType = this.galleriesTypes[ settings.type ];\r\n\r\n\t\tthis.galleryHandler = new GalleryHandlerType( settings );\r\n\t}\r\n\r\n\tsetSettings( key, value ) {\r\n\t\tthis.galleryHandler.setSettings( key, value );\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.galleryHandler.destroy();\r\n\t}\r\n}\r\n","import { elementInView } from '../utils';\r\n\r\nexport default class BaseGalleryType {\r\n\tconstructor( settings ) {\r\n\t\tthis.settings = jQuery.extend( true, this.getDefaultSettings(), settings );\r\n\r\n\t\tthis.$container = jQuery( this.settings.container );\r\n\r\n\t\tthis.timeouts = [];\r\n\r\n\t\tthis.initElements();\r\n\r\n\t\tthis.prepareGallery();\r\n\r\n\t\tconst oldRunGallery = this.runGallery.bind( this );\r\n\r\n\t\tthis.runGallery = this.debounce( () => {\r\n\t\t\tif ( this.settings.lazyLoad ) {\r\n\t\t\t\toldRunGallery();\r\n\t\t\t} else {\r\n\t\t\t\tthis.allImagesPromise.then( oldRunGallery );\r\n\t\t\t}\r\n\t\t}, 300 );\r\n\r\n\t\tif ( this.settings.lazyLoad ) {\r\n\t\t\tthis.handleScroll = this.debounce( () => this.lazyLoadImages(), 16 );\r\n\t\t}\r\n\r\n\t\tthis.bindEvents();\r\n\r\n\t\tthis.runGallery();\r\n\t}\r\n\r\n\tgetDefaultSettings() {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tgetItemClass( className ) {\r\n\t\treturn this.settings.classesPrefix + className;\r\n\t}\r\n\r\n\tinitElements() {\r\n\t\tthis.elements = {\r\n\t\t\t$window: jQuery( window ),\r\n\t\t};\r\n\r\n\t\tconst directionClass = '-' + ( this.settings.rtl ? 'rtl' : 'ltr' );\r\n\r\n\t\tlet\tcontainerClasses = this.getItemClass( this.settings.classes.container ) + ' ' + this.getItemClass( this.settings.type ) + ' ' + this.getItemClass( directionClass );\r\n\r\n\t\tif ( this.settings.lazyLoad ) {\r\n\t\t\tcontainerClasses += ' ' + this.getItemClass( this.settings.classes.lazyLoad );\r\n\t\t}\r\n\r\n\t\tthis.$container.addClass( containerClasses );\r\n\t}\r\n\r\n\tbindEvents() {\r\n\t\tthis.elements.$window.on( 'resize', this.runGallery );\r\n\r\n\t\tif ( this.settings.lazyLoad ) {\r\n\t\t\tthis.elements.$window.on( 'scroll', this.handleScroll );\r\n\t\t}\r\n\t}\r\n\r\n\tgetNestedObjectData( object, key ) {\r\n\t\tconst keyStack = key.split( '.' ),\r\n\t\t\tcurrentKey = keyStack.splice( 0, 1 );\r\n\r\n\t\tif ( ! keyStack.length ) {\r\n\t\t\treturn { object, key };\r\n\t\t}\r\n\r\n\t\treturn this.getNestedObjectData( object[ currentKey ], keyStack.join( '.' ) );\r\n\t}\r\n\r\n\tgetTemplateArgs( args, key ) {\r\n\t\tconst nestedObjectData = this.getNestedObjectData( args, key );\r\n\r\n\t\treturn nestedObjectData.object[ nestedObjectData.key ] || '';\r\n\t}\r\n\r\n\tgetCurrentBreakpoint() {\r\n\t\tconst breakpoints = Object.keys( this.settings.breakpoints ).map( Number ).sort( ( a, b ) => a - b );\r\n\r\n\t\tlet currentBreakpoint = 0;\r\n\r\n\t\tbreakpoints.some( ( breakpoint ) => {\r\n\t\t\tif ( innerWidth < breakpoint ) {\r\n\t\t\t\tcurrentBreakpoint = breakpoint;\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t} );\r\n\r\n\t\treturn currentBreakpoint;\r\n\t}\r\n\r\n\tgetCurrentDeviceSetting( settingKey ) {\r\n\t\tconst currentBreakpoint = this.getCurrentBreakpoint();\r\n\r\n\t\tif ( currentBreakpoint ) {\r\n\t\t\treturn this.settings.breakpoints[ currentBreakpoint ][ settingKey ];\r\n\t\t}\r\n\r\n\t\treturn this.settings[ settingKey ];\r\n\t}\r\n\r\n\tgetActiveItems( returnIndexes = false ) {\r\n\t\tconst activeTags = this.settings.tags,\r\n\t\t\tactiveIndexes = [];\r\n\r\n\t\tif ( ! activeTags.length ) {\r\n\t\t\treturn this.$items;\r\n\t\t}\r\n\r\n\t\tconst filteredItems = this.$items.filter( ( index, item ) => {\r\n\t\t\tlet itemTags = item.dataset.eGalleryTags;\r\n\r\n\t\t\tif ( ! itemTags ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\titemTags = itemTags.split( /[ ,]+/ );\r\n\r\n\t\t\tif ( activeTags.some( ( tag ) => itemTags.includes( tag ) ) ) {\r\n\t\t\t\tif ( returnIndexes ) {\r\n\t\t\t\t\tactiveIndexes.push( index );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t} );\r\n\r\n\t\tif ( returnIndexes ) {\r\n\t\t\treturn activeIndexes;\r\n\t\t}\r\n\r\n\t\treturn filteredItems;\r\n\t}\r\n\r\n\tgetImageData( index ) {\r\n\t\tif ( this.settings.tags.length ) {\r\n\t\t\tindex = this.getActiveItems( true )[ index ];\r\n\t\t}\r\n\r\n\t\treturn this.imagesData[ index ];\r\n\t}\r\n\r\n\tcompileTemplate( template, args ) {\r\n\t\treturn template.replace( /{{([^}]+)}}/g, ( match, placeholder ) => this.getTemplateArgs( args, placeholder.trim() ) );\r\n\t}\r\n\r\n\tcreateOverlay( overlayData ) {\r\n\t\tconst { classes, overlayTemplate } = this.settings,\r\n\t\t\t$overlay = jQuery( '<div>', { class: this.getItemClass( classes.overlay ) } ),\r\n\t\t\toverlayContent = this.compileTemplate( overlayTemplate, jQuery.extend( true, this.settings, overlayData ) );\r\n\r\n\t\t$overlay.html( overlayContent );\r\n\r\n\t\treturn $overlay;\r\n\t}\r\n\r\n\tcreateItem( itemData ) {\r\n\t\tconst { classes } = this.settings,\r\n\t\t\t$item = jQuery( '<div>', { class: this.getItemClass( classes.item ), 'data-e-gallery-tags': itemData.tags } ),\r\n\t\t\t$image = jQuery( '<div>', { class: this.getItemClass( classes.image ) } );\r\n\r\n\t\tlet $overlay;\r\n\r\n\t\tif ( ! this.settings.lazyLoad ) {\r\n\t\t\t$image.css( 'background-image', 'url(' + itemData.thumbnail + ')' );\r\n\t\t}\r\n\r\n\t\tif ( this.settings.overlay ) {\r\n\t\t\t$overlay = this.createOverlay( itemData );\r\n\t\t}\r\n\r\n\t\tlet $contentWrapper = $item;\r\n\r\n\t\tif ( itemData.url ) {\r\n\t\t\t$contentWrapper = jQuery( '<a>', { class: this.getItemClass( classes.link ), href: itemData.url } );\r\n\r\n\t\t\t$item.html( $contentWrapper );\r\n\t\t}\r\n\r\n\t\t$contentWrapper.html( $image );\r\n\r\n\t\tif ( $overlay ) {\r\n\t\t\t$contentWrapper.append( $overlay );\r\n\t\t}\r\n\r\n\t\treturn $item;\r\n\t}\r\n\r\n\tdebounce( func, wait ) {\r\n\t\tlet timeout;\r\n\r\n\t\treturn ( ...args ) => {\r\n\t\t\tclearTimeout( timeout );\r\n\r\n\t\t\ttimeout = setTimeout( () => func( ...args ), wait );\r\n\r\n\t\t\tthis.timeouts.push( timeout );\r\n\t\t};\r\n\t}\r\n\r\n\tbuildGallery() {\r\n\t\tconst { items } = this.settings;\r\n\r\n\t\tthis.$items = jQuery();\r\n\r\n\t\titems.forEach( ( item ) => {\r\n\t\t\tconst $item = this.createItem( item );\r\n\r\n\t\t\tthis.$items = this.$items.add( $item );\r\n\r\n\t\t\tthis.$container.append( $item );\r\n\t\t} );\r\n\t}\r\n\r\n\tloadImages() {\r\n\t\tconst allPromises = [];\r\n\r\n\t\tthis.settings.items.forEach( ( item, index ) => {\r\n\t\t\tconst image = new Image(),\r\n\t\t\t\tpromise = new Promise( ( resolve ) => {\r\n\t\t\t\t\timage.onload = resolve;\r\n\t\t\t\t} );\r\n\r\n\t\t\tallPromises.push( promise );\r\n\r\n\t\t\tpromise.then( () => this.calculateImageSize( image, index ) );\r\n\r\n\t\t\timage.src = item.thumbnail;\r\n\t\t} );\r\n\r\n\t\tthis.allImagesPromise = Promise.all( allPromises );\r\n\t}\r\n\r\n\tlazyLoadImages() {\r\n\t\tif ( this.settings.lazyLoadComplete ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet loadedItems = 0;\r\n\r\n\t\tthis.$items.each( ( index, item ) => {\r\n\t\t\tconst $item = jQuery( item );\r\n\r\n\t\t\tif ( ! item.loaded && ! $item.hasClass( this.settings.classes.hidden ) && elementInView( item ) ) {\r\n\t\t\t\tconst image = new Image(),\r\n\t\t\t\t\tpromise = new Promise( ( resolve ) => {\r\n\t\t\t\t\t\timage.onload = resolve;\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\tpromise.then( () => {\r\n\t\t\t\t\t$item.find( this.settings.selectors.image ).css( 'background-image', 'url(\"' + this.settings.items[ index ].thumbnail + '\")' ).addClass( this.getItemClass( this.settings.classes.imageLoaded ) );\r\n\r\n\t\t\t\t\titem.loaded = true;\r\n\t\t\t\t} );\r\n\r\n\t\t\t\timage.src = this.settings.items[ index ].thumbnail;\r\n\t\t\t}\r\n\r\n\t\t\tif ( item.loaded ) {\r\n\t\t\t\tloadedItems++;\r\n\r\n\t\t\t\tif ( loadedItems === this.settings.items.length ) {\r\n\t\t\t\t\tthis.settings.lazyLoadComplete = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\tcalculateImageSize( image, index ) {\r\n\t\tthis.imagesData[ index ] = {\r\n\t\t\twidth: image.width,\r\n\t\t\theight: image.height,\r\n\t\t\tratio: image.width / image.height,\r\n\t\t};\r\n\t}\r\n\r\n\tcreateImagesData() {\r\n\t\tthis.settings.items.forEach( ( item, index ) => this.calculateImageSize( item, index ) );\r\n\t}\r\n\r\n\tmakeGalleryFromContent() {\r\n\t\tconst { selectors } = this.settings,\r\n\t\t\tisLazyLoad = this.settings.lazyLoad,\r\n\t\t\titems = [];\r\n\r\n\t\tthis.$items = this.$container.find( selectors.items );\r\n\r\n\t\tthis.$items.each( ( index, item ) => {\r\n\t\t\tconst $image = jQuery( item ).find( selectors.image );\r\n\r\n\t\t\titems[ index ] = { thumbnail: $image.data( 'thumbnail' ) };\r\n\r\n\t\t\tif ( isLazyLoad ) {\r\n\t\t\t\titems[ index ].width = $image.data( 'width' );\r\n\t\t\t\titems[ index ].height = $image.data( 'height' );\r\n\t\t\t} else {\r\n\t\t\t\t$image.css( 'background-image', `url(\"${ $image.data( 'thumbnail' ) }\")` );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.settings.items = items;\r\n\t}\r\n\r\n\tprepareGallery() {\r\n\t\tif ( this.settings.items ) {\r\n\t\t\tthis.buildGallery();\r\n\t\t} else {\r\n\t\t\tthis.makeGalleryFromContent();\r\n\t\t}\r\n\r\n\t\tthis.imagesData = [];\r\n\r\n\t\tif ( this.settings.lazyLoad ) {\r\n\t\t\tthis.createImagesData();\r\n\t\t} else {\r\n\t\t\tthis.loadImages();\r\n\t\t}\r\n\t}\r\n\r\n\trunGallery( refresh ) {\r\n\t\tconst containerStyle = this.$container[ 0 ].style;\r\n\r\n\t\tcontainerStyle.setProperty( '--hgap', this.getCurrentDeviceSetting( 'horizontalGap' ) + 'px' );\r\n\t\tcontainerStyle.setProperty( '--vgap', this.getCurrentDeviceSetting( 'verticalGap' ) + 'px' );\r\n\t\tcontainerStyle.setProperty( '--animation-duration', this.settings.animationDuration + 'ms' );\r\n\r\n\t\tthis.$items.addClass( this.getItemClass( this.settings.classes.hidden ) );\r\n\r\n\t\tthis.getActiveItems().removeClass( this.getItemClass( this.settings.classes.hidden ) );\r\n\r\n\t\tif ( this.settings.lazyLoad ) {\r\n\t\t\tsetTimeout( () => this.lazyLoadImages(), 300 );\r\n\t\t}\r\n\r\n\t\tthis.run( refresh );\r\n\t}\r\n\r\n\tsetSettings( key, value ) {\r\n\t\tconst nestedObjectData = this.getNestedObjectData( this.settings, key );\r\n\r\n\t\tif ( nestedObjectData.object ) {\r\n\t\t\tnestedObjectData.object[ nestedObjectData.key ] = value;\r\n\r\n\t\t\tthis.runGallery( true );\r\n\t\t}\r\n\t}\r\n\r\n\tunbindEvents() {\r\n\t\tthis.elements.$window.off( 'resize', this.runGallery );\r\n\t}\r\n\r\n\tdestroy() {\r\n\t\tthis.unbindEvents();\r\n\r\n\t\tthis.$container.empty();\r\n\r\n\t\tthis.timeouts.forEach( ( timeout ) => clearTimeout( timeout ) );\r\n\t}\r\n}\r\n","import BaseGalleryType from './base';\r\n\r\nexport default class Grid extends BaseGalleryType {\r\n\tgetDefaultSettings() {\r\n\t\treturn {\r\n\t\t\taspectRatio: '16:9',\r\n\t\t};\r\n\t}\r\n\r\n\tsetItemsPosition() {\r\n\t\tconst columns = this.getCurrentDeviceSetting( 'columns' );\r\n\r\n\t\tthis.getActiveItems().each( ( index, item ) => {\r\n\t\t\titem.style.setProperty( '--column', index % columns );\r\n\t\t\titem.style.setProperty( '--row', Math.floor( index / columns ) );\r\n\t\t} );\r\n\t}\r\n\r\n\tsetContainerSize() {\r\n\t\tconst columns = this.getCurrentDeviceSetting( 'columns' ),\r\n\t\t\trows = Math.ceil( this.getActiveItems().length / columns ),\r\n\t\t\tcontainerStyle = this.$container[ 0 ].style;\r\n\r\n\t\tcontainerStyle.setProperty( '--columns', columns );\r\n\r\n\t\tcontainerStyle.setProperty( '--rows', rows );\r\n\r\n\t\tconst itemWidth = this.getActiveItems().width(),\r\n\t\t\taspectRatio = this.settings.aspectRatio.split( ':' ),\r\n\t\t\taspectRatioPercents = aspectRatio[ 1 ] / aspectRatio[ 0 ],\r\n\t\t\titemHeight = aspectRatioPercents * itemWidth,\r\n\t\t\ttotalHeight = itemHeight * rows + ( this.getCurrentDeviceSetting( 'horizontalGap' ) * ( rows - 1 ) ),\r\n\t\t\tcalculatedAspectRatio = totalHeight / this.$container.width() * 100;\r\n\r\n\t\tcontainerStyle.setProperty( '--aspect-ratio', ( aspectRatioPercents * 100 ) + '%' );\r\n\t\tcontainerStyle.setProperty( '--container-aspect-ratio', calculatedAspectRatio + '%' );\r\n\t}\r\n\r\n\trun() {\r\n\t\tconst animatedClass = this.getItemClass( this.settings.classes.animated );\r\n\r\n\t\tthis.$container.addClass( animatedClass );\r\n\r\n\t\tsetTimeout( () => {\r\n\t\t\tthis.setItemsPosition();\r\n\t\t\tthis.setContainerSize();\r\n\t\t\tsetTimeout( () => this.$container.removeClass( animatedClass ), this.settings.animationDuration );\r\n\t\t}, 50 );\r\n\t}\r\n}\r\n","import BaseGalleryType from './base';\r\n\r\nexport default class Justified extends BaseGalleryType {\r\n\tgetDefaultSettings() {\r\n\t\treturn {\r\n\t\t\tidealRowHeight: 200,\r\n\t\t\tlastRow: 'auto',\r\n\t\t\tbreakpoints: {\r\n\t\t\t\t1024: {\r\n\t\t\t\t\tidealRowHeight: 150,\r\n\t\t\t\t},\r\n\t\t\t\t768: {\r\n\t\t\t\t\tidealRowHeight: 100,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\trun() {\r\n\t\tthis.rowsHeights = [];\r\n\r\n\t\tthis.rowsCount = 0;\r\n\r\n\t\tthis.containerWidth = this.$container.width();\r\n\r\n\t\tthis.makeJustifiedRow( 0 );\r\n\t}\r\n\r\n\tmakeJustifiedRow( startIndex ) {\r\n\t\tlet oldRowWidth = 0;\r\n\r\n\t\tfor ( let index = startIndex; ; index++ ) {\r\n\t\t\tconst imageData = this.getImageData( index );\r\n\r\n\t\t\tlet itemComputedWidth = Math.round( this.getCurrentDeviceSetting( 'idealRowHeight' ) * imageData.ratio );\r\n\r\n\t\t\tif ( itemComputedWidth > this.containerWidth ) {\r\n\t\t\t\titemComputedWidth = this.containerWidth;\r\n\t\t\t}\r\n\r\n\t\t\tconst newRowWidth = oldRowWidth + itemComputedWidth;\r\n\r\n\t\t\tif ( newRowWidth > this.containerWidth ) {\r\n\t\t\t\tconst oldDiff = this.containerWidth - oldRowWidth,\r\n\t\t\t\t\tnewDiff = newRowWidth - this.containerWidth;\r\n\r\n\t\t\t\tif ( oldDiff < newDiff ) {\r\n\t\t\t\t\tthis.fitImagesInContainer( startIndex, index, oldRowWidth );\r\n\r\n\t\t\t\t\tthis.rowsCount++;\r\n\r\n\t\t\t\t\tthis.makeJustifiedRow( index );\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst isLastItem = index === this.getActiveItems().length - 1;\r\n\r\n\t\t\timageData.computedWidth = itemComputedWidth;\r\n\r\n\t\t\tif ( isLastItem ) {\r\n\t\t\t\tconst lastRowMode = this.getCurrentDeviceSetting( 'lastRow' );\r\n\r\n\t\t\t\tif ( 'hide' !== lastRowMode ) {\r\n\t\t\t\t\tconst totalRowWidth = 'fit' === lastRowMode || 0.7 <= newRowWidth / this.containerWidth ? newRowWidth : this.containerWidth;\r\n\r\n\t\t\t\t\tthis.fitImagesInContainer( startIndex, index + 1, totalRowWidth );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.inflateGalleryHeight();\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\toldRowWidth = newRowWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tfitImagesInContainer( startIndex, endIndex, rowWidth ) {\r\n\t\tconst gapCount = endIndex - startIndex - 1,\r\n\t\t\t$items = this.getActiveItems();\r\n\r\n\t\tlet aggregatedWidth = 0;\r\n\r\n\t\tfor ( let index = startIndex; index < endIndex; index++ ) {\r\n\t\t\tconst imageData = this.getImageData( index ),\r\n\t\t\t\tpercentWidth = imageData.computedWidth / rowWidth,\r\n\t\t\t\titem = $items.get( index ),\r\n\t\t\t\tfirstRowItemClass = this.getItemClass( this.settings.classes.firstRowItem );\r\n\r\n\t\t\titem.style.setProperty( '--item-width', percentWidth );\r\n\t\t\titem.style.setProperty( '--gap-count', gapCount );\r\n\t\t\titem.style.setProperty( '--item-height', ( ( imageData.height / imageData.width ) * 100 ) + '%' );\r\n\t\t\titem.style.setProperty( '--item-start', aggregatedWidth );\r\n\t\t\titem.style.setProperty( '--item-row-index', index - startIndex );\r\n\r\n\t\t\taggregatedWidth += percentWidth;\r\n\r\n\t\t\tif ( index === startIndex ) {\r\n\t\t\t\titem.classList.add( firstRowItemClass );\r\n\r\n\t\t\t\tconst imagePxWidth = percentWidth * ( this.containerWidth - ( gapCount * this.getCurrentDeviceSetting( 'horizontalGap' ) ) );\r\n\r\n\t\t\t\tthis.rowsHeights.push( imagePxWidth / imageData.ratio );\r\n\t\t\t} else {\r\n\t\t\t\titem.classList.remove( firstRowItemClass );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tinflateGalleryHeight() {\r\n\t\tconst totalRowsHeight = this.rowsHeights.reduce( ( total, item ) => total + item ),\r\n\t\t\tfinalContainerHeight = totalRowsHeight + this.rowsCount * this.getCurrentDeviceSetting( 'verticalGap' ),\r\n\t\t\tcontainerAspectRatio = finalContainerHeight / this.containerWidth,\r\n\t\t\tpercentRowsHeights = this.rowsHeights.map( ( rowHeight ) => rowHeight / finalContainerHeight * 100 );\r\n\r\n\t\tlet currentRow = -1,\r\n\t\t\taccumulatedTop = 0;\r\n\r\n\t\tthis.getActiveItems().each( ( index, item ) => {\r\n\t\t\tconst itemRowIndex = item.style.getPropertyValue( '--item-row-index' ),\r\n\t\t\t\tisFirstItem = '0' === itemRowIndex;\r\n\r\n\t\t\tif ( isFirstItem ) {\r\n\t\t\t\tcurrentRow++;\r\n\r\n\t\t\t\tif ( currentRow ) {\r\n\t\t\t\t\taccumulatedTop += percentRowsHeights[ currentRow - 1 ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\titem.style.setProperty( '--item-top', accumulatedTop + '%' );\r\n\t\t\titem.style.setProperty( '--item-height', percentRowsHeights[ currentRow ] + '%' );\r\n\t\t\titem.style.setProperty( '--row', currentRow );\r\n\t\t} );\r\n\r\n\t\tthis.$container[ 0 ].style.setProperty( '--container-aspect-ratio', containerAspectRatio );\r\n\t}\r\n}\r\n","import BaseGalleryType from './base';\r\n\r\nexport default class Masonry extends BaseGalleryType {\r\n\trun( refresh ) {\r\n\t\tconst currentBreakpoint = this.getCurrentBreakpoint();\r\n\r\n\t\tif ( ! refresh && currentBreakpoint === this.currentBreakpoint ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.currentBreakpoint = currentBreakpoint;\r\n\r\n\t\tconst heights = [],\r\n\t\t\taggregatedHeights = [],\r\n\t\t\tcolumns = this.getCurrentDeviceSetting( 'columns' ),\r\n\t\t\tcontainerWidth = this.$container.width(),\r\n\t\t\thorizontalGap = this.getCurrentDeviceSetting( 'horizontalGap' ),\r\n\t\t\titemWidth = ( containerWidth - ( horizontalGap * ( columns - 1 ) ) ) / columns,\r\n\t\t\t$items = this.getActiveItems();\r\n\r\n\t\t$items.each( ( index, item ) => {\r\n\t\t\tconst row = Math.floor( index / columns ),\r\n\t\t\t\tindexAtRow = index % columns,\r\n\t\t\t\timageData = this.getImageData( index ),\r\n\t\t\t\titemHeight = itemWidth / imageData.ratio;\r\n\r\n\t\t\titem.style.setProperty( '--item-height', ( imageData.height / imageData.width * 100 ) + '%' );\r\n\t\t\titem.style.setProperty( '--column', indexAtRow );\r\n\r\n\t\t\tif ( row ) {\r\n\t\t\t\taggregatedHeights[ index ] = heights[ indexAtRow ];\r\n\r\n\t\t\t\theights[ indexAtRow ] += itemHeight;\r\n\t\t\t} else {\r\n\t\t\t\theights.push( itemHeight );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tconst highestColumn = Math.max( ...heights ),\r\n\t\t\thighestColumnIndex = heights.indexOf( highestColumn ),\r\n\t\t\trows = Math.floor( this.settings.items.length / columns ),\r\n\t\t\trowsRemainder = this.settings.items.length % columns,\r\n\t\t\thighestColumnsGapsCount = rowsRemainder > highestColumnIndex ? rows : rows - 1,\r\n\t\t\tcontainerAspectRatio = highestColumn / containerWidth;\r\n\r\n\t\tthis.$container[ 0 ].style.setProperty( '--columns', columns );\r\n\t\tthis.$container[ 0 ].style.setProperty( '--highest-column-gap-count', highestColumnsGapsCount );\r\n\r\n\t\tthis.$container.css( 'padding-bottom', ( containerAspectRatio * 100 ) + '%' );\r\n\r\n\t\t$items.each( ( index, item ) => {\r\n\t\t\tconst percentHeight = aggregatedHeights[ index ] ? aggregatedHeights[ index ] / highestColumn * 100 : 0,\r\n\t\t\t\trow = Math.floor( index / columns );\r\n\r\n\t\t\titem.style.setProperty( '--percent-height', percentHeight + '%' );\r\n\t\t\titem.style.setProperty( '--row', row );\r\n\t\t} );\r\n\t}\r\n}\r\n","export default function elementInView( element, elementPart = 'top' ) {\r\n\tconst elementTop = element.getBoundingClientRect().top,\r\n\t\telementHeight = element.offsetHeight,\r\n\t\telementBottom = elementTop + elementHeight;\r\n\r\n\tlet elementPosition;\r\n\r\n\tif ( 'middle' === elementPart ) {\r\n\t\telementPosition = elementTop + ( elementHeight / 2 );\r\n\t} else if ( 'bottom' === elementPart ) {\r\n\t\telementPosition = elementBottom;\r\n\t} else {\r\n\t\telementPosition = elementTop;\r\n\t}\r\n\r\n\treturn elementPosition <= innerHeight && elementBottom >= 0;\r\n}\r\n","export { default as elementInView } from './element-in-view';\r\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}